.bracketWrap { padding: 10px 0 70px; overflow-x: auto; }

.bracket{
  --cardW: 290px;
  --gapX: 110px;       /* 每輪間距 */
  --gapY: 26px;        /* 同輪卡片間距 */
  --line: rgba(255,255,255,.30);
  --line2: rgba(255,255,255,.18);

  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: var(--cardW);
  column-gap: var(--gapX);
  align-items: start;
  padding: 10px 4px 0;
}

/* round column */
.round{
  position: relative;
  display: grid;
  row-gap: var(--gapY);
}

.roundTitle{
  background: rgba(255,255,255,.9);
  color:#000;
  font-weight: 950;
  border-radius: 8px;
  padding: 8px 12px;
  width: fit-content;
  margin-bottom: 4px;
}

/* 每個 slot 是固定高度，讓下一輪能對齊到上一輪兩場的中間 */
.slot{
  position: relative;
  height: 118px; /* match卡高度（約）+ 上下空間，建議別動太小 */
  display:flex;
  align-items:center;
}

.match{
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  overflow: hidden;
  position: relative;
}

/* 上方 meta：BO + 狀態 */
.metaBar{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.18);
}

.boPill{
  display:inline-flex;
  align-items:center;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.78);
  font-weight: 950;
  font-size: 12px;
  letter-spacing: .3px;
}

.state{
  color: rgba(255,255,255,.55);
  font-weight: 900;
  font-size: 12px;
}

.team{
  display:flex;
  justify-content: space-between;
  align-items:center;
  padding: 11px 12px;
  font-weight: 900;
  color: rgba(255,255,255,.82);
  background: rgba(0,0,0,.08);
}
.team + .team{ border-top: 1px solid rgba(255,255,255,.08); }
.team b{ font-weight: 1000; letter-spacing: .4px; }

.team.win{
  color:#fff;
  background: linear-gradient(to right, rgba(245,196,106,.22), rgba(0,0,0,.06) 70%);
  position: relative;
}
.team.win::before{
  content:"";
  position:absolute; left:0; top:0; bottom:0;
  width: 4px;
  background: #f5c46a;
}

/* ========= 彎折連線（重點） =========
   我們用「上一輪兩個 match slot」各自畫 ──┐ 連到下一輪該 slot 的中線位置
*/

/* 每個 slot 都有一條「到下一輪的水平線」 */
.slot[data-out="1"]::after{
  content:"";
  position:absolute;
  right: calc(-1 * (var(--gapX)) + 8px);
  top: 50%;
  width: calc(var(--gapX) - 8px);
  height: 1px;
  background: var(--line);
}

/* slot 上/下半部的「垂直線」，把兩場合併成一條，形成 └──┐ 或 ┌──┘ */
.slot[data-join="top"]::before,
.slot[data-join="bottom"]::before{
  content:"";
  position:absolute;
  right: calc(-1 * (var(--gapX)) + 8px);
  width: 1px;
  background: var(--line);
}

/* top：從 slot 中線往下拉（┐ 的直線） */
.slot[data-join="top"]::before{
  top: 50%;
  height: calc(50% + (var(--gapY) / 2) + 59px); /* 59px約半個slot高度 */
}

/* bottom：從 slot 中線往上拉（┘ 的直線） */
.slot[data-join="bottom"]::before{
  bottom: 50%;
  height: calc(50% + (var(--gapY) / 2) + 59px);
}

/* 下一輪 slot 畫「接收水平線」（從左邊進來） */
.slot[data-in="1"] .match::after{
  content:"";
  position:absolute;
  left: calc(-1 * (var(--gapX)) );
  top: 50%;
  width: calc(var(--gapX) - 8px);
  height: 1px;
  background: var(--line2);
}

/* 手機：改成直向列表，不畫線 */
@media (max-width: 900px){
  .bracket{
    grid-auto-flow: row;
    grid-auto-columns: 1fr;
    row-gap: 22px;
    column-gap: 0;
  }
  .slot{ height: auto; }
  .slot::before, .slot::after, .match::after{ display:none !important; }
}
